<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="WuiFET.GeneratorPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WuiFET"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <ContentDialog x:Name="TaskDialog" IsPrimaryButtonEnabled="False"  IsSecondaryButtonEnabled="False" >            <StackPanel Orientation="Vertical">                <TextBlock x:Name="td_t1" Text="{x:Bind txt(61);}" Margin="0,10,0,10" FontSize="25"/>                <ScrollViewer MaxHeight="150" VerticalScrollBarVisibility="Auto" Visibility="{x:Bind VisibleWarnings,Mode=OneWay}" >                    <RichTextBlock x:Name="td_t2" Margin="0,10,0,10" >                        <Paragraph>                            <Run Text="{x:Bind td_msg,Mode=OneWay}"/>                        </Paragraph>                    </RichTextBlock>                </ScrollViewer>                <TextBlock Text="{x:Bind td_time1,Mode=OneWay}"></TextBlock>                <TextBlock Text="{x:Bind td_time2,Mode=OneWay}"></TextBlock>                <ProgressBar x:Name="td_progress" IsIndeterminate="True" Height="10" Margin="0,10,0,0" />                <ScrollViewer MaxHeight="200" VerticalScrollBarVisibility="Auto" Margin="20" >                    <ItemsRepeater x:Name="Progress_ListView" ItemsSource="{x:Bind Progress_List,Mode=OneWay}" VerticalAlignment="Stretch"  HorizontalAlignment="Stretch" >
                        <ItemsRepeater.ItemTemplate>
                            <DataTemplate x:DataType="local:Item">
                                <StackPanel Orientation="Horizontal" Padding="0" Margin="0" >
                                    <TextBlock Text="{x:Bind Name1,Mode=OneWay}" Width="25" />
                                    <TextBlock Text="{x:Bind Name2,Mode=OneWay}" Foreground="{x:Bind ColorX,Mode=OneWay}" />
                                </StackPanel>
                            </DataTemplate>
                        </ItemsRepeater.ItemTemplate>
                    </ItemsRepeater>
                </ScrollViewer>                <StackPanel Orientation="Horizontal">                    <Button Margin="5" Visibility="{x:Bind IsPaused,Mode=OneWay}" Content="{x:Bind txt(241);}"  Click="OnResume" Style="{StaticResource WarningButtonStyle}"/>                    <DropDownButton Content="{x:Bind txt(189);}" Style="{StaticResource PrimaryButtonStyle}" >
                        <DropDownButton.Flyout>
                            <MenuFlyout Placement="Bottom">
                                <ToggleMenuFlyoutItem  Text="{x:Bind txt(89);}" Click="WarningToggle" Visibility="{x:Bind HasWarnings,Mode=OneWay}" />
                                <MenuFlyoutSeparator/>
                                <ToggleMenuFlyoutItem  Text="{x:Bind txt(198);}" IsChecked="{x:Bind IsPaused,Mode=TwoWay}"/>
                                <MenuFlyoutSeparator/>
                                <MenuFlyoutItem  Text="{x:Bind txt(234);}" Click="OnDetach" IsEnabled="{x:Bind ProjectSaved,Mode=OneWay}" />
                                <MenuFlyoutSeparator/>
                                <MenuFlyoutItem  Text="+ 00:10:00" Click="Add10Minutes" />
                                <MenuFlyoutItem  Text="{x:Bind txt(247);}" Click="TerminateSlowest" />
                                <MenuFlyoutSeparator/>
                                <MenuFlyoutSubItem Text="{x:Bind txt(164);}">
                                    <ToggleMenuFlyoutItem Text="{x:Bind txt(165);}" IsChecked="{x:Bind FinishSleep,Mode=TwoWay}"/>
                                    <ToggleMenuFlyoutItem Text="{x:Bind txt(166);}" IsChecked="{x:Bind FinishShutdown,Mode=TwoWay}"/>
                                </MenuFlyoutSubItem>
                            </MenuFlyout>
                        </DropDownButton.Flyout>
                    </DropDownButton>                                        <Button Content="{x:Bind txt(5);}" Click="CancelG" Style="{StaticResource ErrorButtonStyle}"  Margin="5" />                </StackPanel>            </StackPanel>        </ContentDialog>


        <InfoBar x:Name="infoBar" Grid.Row="0" IsOpen="True" Message="" Severity="Success"  IsClosable="False" Grid.ColumnSpan="2">
            <Grid VerticalAlignment="Stretch">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <TextBlock Text="{x:Bind txt(1);}" Margin="10,0,0,0" Grid.Column="0" VerticalAlignment="Center"/>
                <TextBlock Text="{x:Bind Loaded_File,Mode=OneWay}" Margin="10,0,0,0" Grid.Column="1" VerticalAlignment="Center"/>
            </Grid>
        </InfoBar>

        <TextBlock Margin="5" Grid.Column="0" Grid.Row="1" Text="{x:Bind txt(71);}" VerticalAlignment="Center"></TextBlock>
        <NumberBox VerticalAlignment="Center" Margin="5" Grid.Column="1" Grid.Row="1" Text="{x:Bind Wait_Results,Mode=TwoWay}" Minimum="1" ></NumberBox>
        <TextBlock Margin="5" Grid.Column="0" Grid.Row="2" Text="{x:Bind txt(59);}" VerticalAlignment="Center"></TextBlock>
        <NumberBox VerticalAlignment="Center" Margin="5" Grid.Column="1" Grid.Row="2" Text="{x:Bind Num_Threads,Mode=TwoWay}" Minimum="1" Maximum="64"></NumberBox>
        <TextBlock Margin="5" Grid.Column="0" Grid.Row="3" Text="{x:Bind txt(108);}" VerticalAlignment="Center"></TextBlock>
        <NumberBox VerticalAlignment="Center" Margin="5" Grid.Column="1" Grid.Row="3" Text="{x:Bind Wait_Minutes,Mode=TwoWay}" Minimum="1" ></NumberBox>
        <TextBlock Margin="5" Grid.Column="0" Grid.Row="4" Text="{x:Bind txt(246);}" VerticalAlignment="Center"></TextBlock>
        <NumberBox VerticalAlignment="Center" Margin="5" Grid.Column="1" Grid.Row="4" Text="{x:Bind CPUS_Per_Thread,Mode=TwoWay}" Minimum="1" ></NumberBox>

        <ListView x:Name="Restrictions_List" Grid.Row="5" Grid.Column="1" SelectionMode="Multiple" SelectionChanged="RestChanged">
            <ListView.Items>
                <TextBlock Text="{x:Bind txt(119);}"></TextBlock>
                <TextBlock Text="{x:Bind txt(120);}"></TextBlock>
            </ListView.Items>
        </ListView>

        <StackPanel Orientation="Horizontal" Grid.Column="1" Grid.Row="6">
            <Button VerticalAlignment="Center" Margin="5"  Content="{x:Bind txt(60);}" Click="GenerateNow"  Style="{StaticResource PrimaryButtonStyle}">
                <Button.KeyboardAccelerators>
                    <KeyboardAccelerator Key="F5"  />
                </Button.KeyboardAccelerators>
            </Button>
            <Button Visibility="{x:Bind HasDetachingData,Mode=OneWay}" VerticalAlignment="Center" Margin="5"  Content="{x:Bind txt(237);}" Click="OnManageDetachingDAta"  Style="{StaticResource WarningButtonStyle}" />
        </StackPanel>

    </Grid>
</Page>
