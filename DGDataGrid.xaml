<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="WuiFET.DGDataGrid"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WuiFET"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <!-- Headers -->
            <RowDefinition Height="Auto"/>
            <!-- Rows -->
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Column headers -->
        <ItemsRepeater x:Name="HeaderRepeater"
                             Grid.Row="0">
            <ItemsRepeater.Layout>
                <StackLayout  Orientation="Horizontal"/>
            </ItemsRepeater.Layout>
            <ItemsRepeater.ItemTemplate>
                <DataTemplate x:DataType="local:DGHeaderModel">
                    <TextBlock Text="{x:Bind Name,Mode=OneWay}" 
                               FontWeight="Bold" 
                               Padding="8" MinWidth="{x:Bind MinimumWidth,Mode=OneWay}"  />
                </DataTemplate>
            </ItemsRepeater.ItemTemplate>
        </ItemsRepeater>

        <!-- Rows -->
        <ScrollViewer Grid.Row="1">
            <ItemsRepeater x:Name="RowRepeater">
                <ItemsRepeater.Layout>
                    <StackLayout Orientation="Vertical"/>
                </ItemsRepeater.Layout>
                <ItemsRepeater.ItemTemplate>
                    <DataTemplate x:DataType="local:DGRowModel">
                        <ItemsRepeater ItemsSource="{x:Bind Cells,Mode=OneWay}">
                            <ItemsRepeater.Layout>
                                <UniformGridLayout Orientation="Horizontal"/>
                            </ItemsRepeater.Layout>
                            <ItemsRepeater.ItemTemplate>
                                <DataTemplate x:DataType="local:DGCellModel">
                                    <StackPanel Orientation="Vertical">
                                        <TextBlock Visibility="{x:Bind VisBlock,Mode=OneWay}" Text="{x:Bind Value, Mode=TwoWay}" Padding="8" MinWidth="{x:Bind MinimumWidth,Mode=OneWay}" MinHeight="{x:Bind MinimumHeight,Mode=OneWay}"  TextWrapping="Wrap" />
                                        <TextBox Visibility="{x:Bind VisText,Mode=OneWay}" Text="{x:Bind Value, Mode=TwoWay}" Padding="8" MinWidth="{x:Bind MinimumWidth,Mode=OneWay}" MinHeight="{x:Bind MinimumHeight,Mode=OneWay}"  />
                                        <NumberBox Visibility="{x:Bind VisNumber,Mode=OneWay}" Text="{x:Bind ValueN, Mode=TwoWay}" Padding="8" MinWidth="{x:Bind MinimumWidth,Mode=OneWay}" MinHeight="{x:Bind MinimumHeight,Mode=OneWay}"  Minimum="{x:Bind ValueNMin,Mode=OneWay}" Maximum="{x:Bind ValueNMax,Mode=OneWay}" SpinButtonPlacementMode="Inline" />
                                        <Button Visibility="{x:Bind VisButton,Mode=OneWay}" Content="{x:Bind Value, Mode=OneWay}" Padding="8" MinWidth="{x:Bind MinimumWidth,Mode=OneWay}" MinHeight="{x:Bind MinimumHeight,Mode=OneWay}"  Click="ButtonClick1" />
                                        <CheckBox Visibility="{x:Bind VisCheck,Mode=OneWay}" Content="{x:Bind Value, Mode=OneWay}" Padding="8" MinWidth="{x:Bind MinimumWidth,Mode=OneWay}" MinHeight="{x:Bind MinimumHeight,Mode=OneWay}"  IsChecked="{x:Bind ValueB,Mode=TwoWay}" />
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsRepeater.ItemTemplate>
                        </ItemsRepeater>
                    </DataTemplate>
                </ItemsRepeater.ItemTemplate>
            </ItemsRepeater>
        </ScrollViewer>
    </Grid>
    
</UserControl>
